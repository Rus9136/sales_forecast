# –û—Ç—á–µ—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É —Ä–∞–∑–¥–µ–ª–æ–≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-01-02  
**–¶–µ–ª—å:** –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞–∑–¥–µ–ª–æ–≤ –∏ –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∏—Ö —É–¥–∞–ª–µ–Ω–∏—è

---

## üìã –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–¥–µ–ª–æ–≤

| –†–∞–∑–¥–µ–ª | API Endpoints | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –†–∏—Å–∫ —É–¥–∞–ª–µ–Ω–∏—è |
|--------|---------------|---------------------------|-------------|---------------|
| **–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞** | `/api/forecast/export/csv` | ‚ùå –ù–µ—Ç | –ù–∏–∑–∫–∞—è | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π |
| **–ü–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤** | `/api/forecast/postprocess`, `/api/forecast/postprocess/batch`, `/api/forecast/batch_with_postprocessing` | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | –°—Ä–µ–¥–Ω—è—è | –°—Ä–µ–¥–Ω–∏–π |
| **–ê–ù–ê–õ–ò–ó –û–®–ò–ë–û–ö** | 4 endpoints | ‚úÖ –î–∞ (–≤ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–∏) | –í—ã—Å–æ–∫–∞—è | –í—ã—Å–æ–∫–∏–π |
| **–ú–û–ù–ò–¢–û–†–ò–ù–ì –ú–û–î–ï–õ–ï–ô** | 6 endpoints | ‚úÖ –î–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã) | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è | –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π |

---

## 1. üì§ –≠–ö–°–ü–û–†–¢ –ü–†–û–ì–ù–û–ó–ê

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∑–≤–æ–ª—è–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã –ø—Ä–æ–¥–∞–∂ –≤ CSV —Ñ–æ—Ä–º–∞—Ç
- **UI —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** `page-forecast-export`
- **JavaScript —Ñ—É–Ω–∫—Ü–∏—è:** `showForecastExport()`, `exportForecast()`

### API Endpoints
- `GET /api/forecast/export/csv`
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `from_date`, `to_date`, `department_id` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ), `include_actual` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: CSV —Ñ–∞–π–ª —Å –ø—Ä–æ–≥–Ω–æ–∑–∞–º–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ **–ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** –æ—Ç –¥—Ä—É–≥–∏—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–π endpoint `/api/forecast/batch` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö
- ‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ
- **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:** `app/main.py` (—Å—Ç—Ä–æ–∫–∏ 1738-1803, 3248-3267, 3967-4002)
- **API Router:** `app/routers/forecast.py` (—Å—Ç—Ä–æ–∫–∏ 309-379)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `API_DOCUMENTATION_FORECAST.md`, `QUICK_API_GUIDE.md`

### –†–∏—Å–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è
- ‚ö†Ô∏è **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∏—Å–∫** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ –ø—Ä—è–º–æ–π –≤—ã–∑–æ–≤ API
- ‚ö†Ô∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ—Ç–µ—Ä—è—é—Ç —É–¥–æ–±–Ω—ã–π UI –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞, –Ω–æ —Å–º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –Ω–∞–ø—Ä—è–º—É—é
- ‚úÖ API endpoint –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- ‚úÖ **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** UI —Ä–∞–∑–¥–µ–ª
- ‚ö†Ô∏è **–û–°–¢–ê–í–ò–¢–¨** API endpoint `/api/forecast/export/csv` –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

---

## 2. üîß –ü–û–°–¢-–û–ë–†–ê–ë–û–¢–ö–ê –ü–†–û–ì–ù–û–ó–û–í

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ (—Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ, –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π, –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã)
- **UI —Å—Ç—Ä–∞–Ω–∏—Ü–∞:** `page-forecast-postprocessing`
- **JavaScript —Ñ—É–Ω–∫—Ü–∏–∏:** `showForecastPostprocessing()`, `testPostprocessing()`, `runBatchPostprocessing()`, `loadPostprocessingSettings()`, `savePostprocessingSettings()`

### API Endpoints
- `POST /api/forecast/postprocess` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞
- `POST /api/forecast/postprocess/batch` - –ú–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- `GET /api/forecast/batch_with_postprocessing` - –ü—Ä–æ–≥–Ω–æ–∑—ã —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- `GET /api/forecast/postprocessing/settings` - –ü–æ–ª—É—á–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `POST /api/forecast/postprocessing/settings` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –°–µ—Ä–≤–∏—Å—ã
- **ForecastPostprocessingService** (`app/services/forecast_postprocessing_service.py`)
  - –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
  - –ë–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
  - –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∞–Ω–æ–º–∞–ª–∏–π
  - –†–∞—Å—á–µ—Ç –¥–æ–≤–µ—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ API:** Endpoint `/api/forecast/batch_with_postprocessing` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
- ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏:** –†–∞–∑–¥–µ–ª "–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ —Ñ–∏–ª–∏–∞–ª–∞–º" –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫—É
- ‚úÖ –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ
- **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:** `app/main.py` (—Å—Ç—Ä–æ–∫–∏ 1807-1967, 3269-3292, 5193-5400+)
- **API Router:** `app/routers/forecast.py` (—Å—Ç—Ä–æ–∫–∏ 737-844, 856-930)
- **–°–µ—Ä–≤–∏—Å:** `app/services/forecast_postprocessing_service.py` (487 —Å—Ç—Ä–æ–∫)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `API_DOCUMENTATION_FORECAST.md`, `IMPROVEMENT_PLAN.md`, `SESSION_LOG_20250630_064600.md`

### –†–∏—Å–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è
- ‚ö†Ô∏è **–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ API
- ‚ö†Ô∏è –í–Ω–µ—à–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/api/forecast/batch_with_postprocessing`
- ‚ö†Ô∏è –ü–æ—Ç–µ—Ä—è —É–¥–æ–±–Ω–æ–≥–æ UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ API endpoints –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- ‚ö†Ô∏è **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** UI —Ä–∞–∑–¥–µ–ª, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ
- ‚úÖ **–û–°–¢–ê–í–ò–¢–¨** API endpoints –∏ —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `/api/forecast/batch_with_postprocessing` –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏

---

## 3. üìä –ê–ù–ê–õ–ò–ó –û–®–ò–ë–û–ö

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Å–µ–≥–º–µ–Ω—Ç–∞–º –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø–µ—Ä–∏–æ–¥–∞–º
- **UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
  - `page-error-analysis-segment` - –û—à–∏–±–∫–∏ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º
  - `page-problematic-branches` - –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∏–ª–∏–∞–ª—ã
  - `page-temporal-analysis` - –í—Ä–µ–º–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏–∑
  - `page-error-distribution` - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

### API Endpoints
- `GET /api/forecast/error-analysis/errors_by_segment` - –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º (department, day_of_week, month, location)
- `GET /api/forecast/error-analysis/problematic_branches` - –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ñ–∏–ª–∏–∞–ª–æ–≤
- `GET /api/forecast/error-analysis/temporal_errors` - –í—Ä–µ–º–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫
- `GET /api/forecast/error-analysis/error_distribution` - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

### –°–µ—Ä–≤–∏—Å—ã
- **ErrorAnalysisService** (`app/services/error_analysis_service.py`)
  - –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º
  - –í—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Ñ–∏–ª–∏–∞–ª–æ–≤
  - –í—Ä–µ–º–µ–Ω–Ω–æ–π –∞–Ω–∞–ª–∏–∑
  - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ó–ê–í–ò–°–ò–ú–û–°–¢–¨:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `ModelRetrainingService` –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏
- ‚úÖ **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ó–ê–í–ò–°–ò–ú–û–°–¢–¨:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `ModelMonitoringService` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–∏ –º–æ–¥–µ–ª–∏ (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ)
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–º —Ä–∞—Å—á–µ—Ç–µ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ
- **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:** `app/main.py` (—Å—Ç—Ä–æ–∫–∏ 1235-1737, 3295-3370, 4631-4750+)
- **API Router:** `app/routers/forecast.py` (—Å—Ç—Ä–æ–∫–∏ 567-733)
- **–°–µ—Ä–≤–∏—Å:** `app/services/error_analysis_service.py` (453 —Å—Ç—Ä–æ–∫–∏)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–∞—Ö:**
  - `app/services/model_retraining_service.py` (—Å—Ç—Ä–æ–∫–∞ 26) - –∏–º–ø–æ—Ä—Ç ErrorAnalysisService
  - `app/services/model_monitoring_service.py` (—Å—Ç—Ä–æ–∫–∞ 19, 326) - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

### –†–∏—Å–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è
- üî¥ **–í–´–°–û–ö–ò–ô –†–ò–°–ö** - —Å–µ—Ä–≤–∏—Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã
- üî¥ –£–¥–∞–ª–µ–Ω–∏–µ UI –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–æ —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ —Å–ª–æ–º–∞–µ—Ç:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏
  - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫
- ‚ö†Ô∏è –ü–æ—Ç–µ—Ä—è —É–¥–æ–±–Ω–æ–≥–æ UI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ—à–∏–±–æ–∫ –≤—Ä—É—á–Ω—É—é

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- ‚úÖ **–ú–û–ñ–ù–û –£–î–ê–õ–ò–¢–¨** UI —Ä–∞–∑–¥–µ–ª—ã (4 —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
- üî¥ **–ù–ï–õ–¨–ó–Ø –£–î–ê–õ–Ø–¢–¨** API endpoints –∏ —Å–µ—Ä–≤–∏—Å `ErrorAnalysisService`
- ‚ö†Ô∏è –°–µ—Ä–≤–∏—Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

---

## 4. üîÑ –ú–û–ù–ò–¢–û–†–ò–ù–ì –ú–û–î–ï–õ–ï–ô

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–¥–µ–ª–∏, –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∏—Å—Ç–æ—Ä–∏—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ä—É—á–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
- **UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
  - `page-model-status` - –°—Ç–∞—Ç—É—Å –º–æ–¥–µ–ª–∏
  - `page-performance-metrics` - –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - `page-training-history` - –ò—Å—Ç–æ—Ä–∏—è –æ–±—É—á–µ–Ω–∏—è
  - `page-manual-retraining` - –†—É—á–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ

### API Endpoints
- `GET /api/monitoring/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–¥–µ–ª–∏
- `GET /api/monitoring/performance/summary` - –°–≤–æ–¥–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
- `POST /api/monitoring/performance/calculate-daily` - –†–∞—Å—á–µ—Ç –¥–Ω–µ–≤–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
- `GET /api/monitoring/retrain/status` - –°—Ç–∞—Ç—É—Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
- `POST /api/monitoring/retrain/manual` - –†—É—á–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
- `GET /api/monitoring/alerts/recent` - –ù–µ–¥–∞–≤–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö

### –°–µ—Ä–≤–∏—Å—ã
- **ModelMonitoringService** (`app/services/model_monitoring_service.py`)
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏
  - –†–∞—Å—á–µ—Ç –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫
  - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–ª–µ—Ä—Ç–æ–≤
  - Health checks
- **ModelRetrainingService** (`app/services/model_retraining_service.py`)
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
  - –†—É—á–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ
  - –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
  - –ü—Ä–∏–Ω—è—Ç–∏–µ —Ä–µ—à–µ–Ω–∏–π –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ó–ê–í–ò–°–ò–ú–û–°–¢–¨:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö:
  - **–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ:** `run_auto_retrain()` - –∫–∞–∂–¥–æ–µ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ –≤ 3:00 AM
  - **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫:** `run_daily_metrics_calculation()` - –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 4:00 AM
- üî¥ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `app/main.py` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Å—Ç—Ä–æ–∫–∏ 44-54, 56-64, 116-161)
- ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π –æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π –º–æ–¥–µ–ª–∏

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ
- **–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:** `app/main.py` (—Å—Ç—Ä–æ–∫–∏ 1968-2230, 3373-3417, 4004-4600+)
- **API Router:** `app/routers/monitoring.py` (–≤–µ—Å—å —Ñ–∞–π–ª)
- **–°–µ—Ä–≤–∏—Å—ã:**
  - `app/services/model_monitoring_service.py` (563 —Å—Ç—Ä–æ–∫–∏)
  - `app/services/model_retraining_service.py` (437 —Å—Ç—Ä–æ–∫)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã:** `app/main.py` (—Å—Ç—Ä–æ–∫–∏ 44-64, 116-161)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** –¢–∞–±–ª–∏—Ü—ã `model_versions`, `model_retraining_log`, `model_performance_metrics`

### –†–∏—Å–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è
- üî¥ **–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –†–ò–°–ö** - —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —ç—Ç–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- üî¥ –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª–æ–º–∞–µ—Ç:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ)
  - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–¥–µ–ª–∏
  - –°–∏—Å—Ç–µ–º—É –∞–ª–µ—Ä—Ç–æ–≤ –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- üî¥ –ü–æ—Ç–µ—Ä—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
- üî¥ –ü–æ—Ç–µ—Ä—è –∏—Å—Ç–æ—Ä–∏–∏ –æ–±—É—á–µ–Ω–∏—è –∏ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
- üî¥ **–ù–ï–õ–¨–ó–Ø –£–î–ê–õ–Ø–¢–¨** –Ω–∏ UI, –Ω–∏ API, –Ω–∏ —Å–µ—Ä–≤–∏—Å—ã
- üî¥ –°–∏—Å—Ç–µ–º–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è
- ‚ö†Ô∏è –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –ø–æ–ª–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å (UI —Ç–æ–ª—å–∫–æ)
1. **–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞** - UI –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å, API –æ—Å—Ç–∞–≤–∏—Ç—å
2. **–ü–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤** - UI –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å, API –∏ —Å–µ—Ä–≤–∏—Å –æ—Å—Ç–∞–≤–∏—Ç—å
3. **–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫** - UI –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å, API –∏ —Å–µ—Ä–≤–∏—Å **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ—Å—Ç–∞–≤–∏—Ç—å**

### üî¥ –ù–ï–õ–¨–ó–Ø —É–¥–∞–ª—è—Ç—å
1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π** - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–µ

---

## üîß –ü–ª–∞–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è

### –®–∞–≥ 1: –£–¥–∞–ª–µ–Ω–∏–µ UI —Ä–∞–∑–¥–µ–ª–æ–≤ (–±–µ–∑–æ–ø–∞—Å–Ω–æ)
1. –£–¥–∞–ª–∏—Ç—å –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é –∏–∑ sidebar (—Å—Ç—Ä–æ–∫–∏ 1065-1076 –≤ `app/main.py`)
2. –£–¥–∞–ª–∏—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
   - `page-forecast-export` (—Å—Ç—Ä–æ–∫–∏ 1738-1803)
   - `page-forecast-postprocessing` (—Å—Ç—Ä–æ–∫–∏ 1807-1967)
   - `page-error-analysis-segment` (—Å—Ç—Ä–æ–∫–∏ 1235-1737)
   - `page-problematic-branches` (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
   - `page-temporal-analysis` (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
   - `page-error-distribution` (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
3. –£–¥–∞–ª–∏—Ç—å JavaScript —Ñ—É–Ω–∫—Ü–∏–∏:
   - `showForecastExport()`
   - `showForecastPostprocessing()`
   - `showErrorAnalysisBySegment()`
   - `showProblematicBranches()`
   - `showTemporalAnalysis()`
   - `showErrorDistribution()`
   - `exportForecast()`
   - `testPostprocessing()`
   - `runBatchPostprocessing()`
   - –ò –¥—Ä—É–≥–∏–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –®–∞–≥ 2: –û—Å—Ç–∞–≤–∏—Ç—å API endpoints (–∫—Ä–∏—Ç–∏—á–Ω–æ)
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ API endpoints –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (ErrorAnalysisService, ForecastPostprocessingService, ModelMonitoringService, ModelRetrainingService)
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (–ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏–µ, —Ä–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫)

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ API endpoints –¥–æ—Å—Ç—É–ø–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–ï–î–£–ü–†–ï–ñ–î–ï–ù–ò–Ø

1. **–ù–ï –£–î–ê–õ–Ø–¢–¨** —Å–µ—Ä–≤–∏—Å—ã `ErrorAnalysisService`, `ModelMonitoringService`, `ModelRetrainingService` - –æ–Ω–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã
2. **–ù–ï –£–î–ê–õ–Ø–¢–¨** API endpoints - –æ–Ω–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–Ω–µ—à–Ω–∏–º–∏ –∫–ª–∏–µ–Ω—Ç–∞–º–∏
3. **–ù–ï –£–î–ê–õ–Ø–¢–¨** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ `app/main.py` (—Å—Ç—Ä–æ–∫–∏ 44-64, 116-161)
4. **–ù–ï –£–î–ê–õ–Ø–¢–¨** —Ç–∞–±–ª–∏—Ü—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: `model_versions`, `model_retraining_log`, `model_performance_metrics`

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ú–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ —É–¥–∞–ª–∏—Ç—å:**
- UI —Ä–∞–∑–¥–µ–ª—ã "–≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–≥–Ω–æ–∑–∞", "–ü–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤", "–ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫" (—Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

**–ù–ï–õ–¨–ó–Ø —É–¥–∞–ª—è—Ç—å:**
- –†–∞–∑–¥–µ–ª "–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥–µ–ª–µ–π" (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω)
- API endpoints –∏ —Å–µ—Ä–≤–∏—Å—ã (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∫–µ)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –£–¥–∞–ª–∏—Ç—å —Ç–æ–ª—å–∫–æ UI —Ä–∞–∑–¥–µ–ª—ã, –æ—Å—Ç–∞–≤–∏–≤ –≤—Å—é backend —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

